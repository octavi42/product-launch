<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Hunt Launch Assistant</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="bg-gray-50 min-h-screen">
    <div x-data="appData()" x-init="init()" class="container mx-auto px-4 py-8">
        <!-- Header -->
        <header class="text-center mb-8">
            <div class="flex items-center justify-center mb-4">
                <i class="fas fa-rocket text-4xl text-orange-500 mr-3"></i>
                <h1 class="text-4xl font-bold text-gray-800">Product Hunt Launch Assistant</h1>
            </div>
            <p class="text-gray-600 text-lg">AI-powered guidance for your successful Product Hunt launch</p>
            
            <!-- Memory Status -->
            <div x-show="userSession.memory_enabled" class="mt-4 inline-flex items-center px-3 py-1 rounded-full text-sm bg-green-100 text-green-800">
                <i class="fas fa-brain mr-1"></i>
                <span>Memory Enabled</span>
                <span x-show="memorySummary.total_memories > 0" class="ml-2 px-2 py-0.5 bg-green-200 rounded-full text-xs">
                    <span x-text="memorySummary.total_memories"></span> memories
                </span>
            </div>
        </header>

        <!-- Main Form -->
        <div class="max-w-4xl mx-auto bg-white rounded-lg shadow-lg p-6 mb-8">
            <form @submit.prevent="analyzeProduct" class="space-y-6">
                <!-- GitHub Connection -->
                <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                    <div class="flex items-center justify-between mb-4">
                        <div class="flex items-center">
                            <i class="fab fa-github text-2xl text-gray-700 mr-3"></i>
                            <h3 class="text-lg font-semibold text-gray-800">Connect GitHub Repository</h3>
                        </div>
                        <span x-show="githubConnected" class="text-green-600 text-sm">
                            <i class="fas fa-check-circle mr-1"></i>Connected
                        </span>
                    </div>
                    <div class="flex gap-2">
                        <input
                            type="url"
                            x-model="formData.github_repo"
                            placeholder="https://github.com/username/repository"
                            class="flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"
                        >
                        <button
                            type="button"
                            @click="connectGithub"
                            :disabled="loading"
                            class="px-4 py-2 bg-gray-800 text-white rounded-md hover:bg-gray-700 disabled:opacity-50 transition-colors"
                        >
                            <i class="fab fa-github mr-1"></i>
                            <span x-text="githubConnected ? 'Connected' : 'Connect'"></span>
                        </button>
                    </div>
                    <p class="text-sm text-gray-500 mt-2">
                        <i class="fas fa-info-circle mr-1"></i>
                        GitHub integration is coming soon! For now, this is a mock connection.
                    </p>
                </div>

                <!-- Product Information -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">
                            <i class="fas fa-tag mr-1"></i>Product Name *
                        </label>
                        <input
                            type="text"
                            x-model="formData.product_name"
                            required
                            placeholder="My Awesome Product"
                            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"
                        >
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">
                            <i class="fas fa-layer-group mr-1"></i>Product Type
                        </label>
                        <select
                            x-model="formData.product_type"
                            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"
                        >
                            <option value="SaaS">SaaS</option>
                            <option value="Mobile App">Mobile App</option>
                            <option value="Chrome Extension">Chrome Extension</option>
                            <option value="AI Tool">AI Tool</option>
                            <option value="Design Tool">Design Tool</option>
                            <option value="Productivity Tool">Productivity Tool</option>
                            <option value="Developer Tool">Developer Tool</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                </div>

                <!-- Product Description -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">
                        <i class="fas fa-file-alt mr-1"></i>Product Description *
                    </label>
                    <textarea
                        x-model="formData.product_description"
                        required
                        rows="4"
                        placeholder="Describe your product, its key features, and the problem it solves..."
                        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"
                    ></textarea>
                </div>

                <!-- Additional Information -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">
                            <i class="fas fa-users mr-1"></i>Target Audience
                        </label>
                        <input
                            type="text"
                            x-model="formData.target_audience"
                            placeholder="developers, designers, entrepreneurs..."
                            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"
                        >
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">
                            <i class="fas fa-calendar mr-1"></i>Planned Launch Date
                        </label>
                        <input
                            type="text"
                            x-model="formData.launch_date"
                            placeholder="next Tuesday, December 15, 2024..."
                            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"
                        >
                    </div>
                </div>

                <!-- Additional Notes -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">
                        <i class="fas fa-sticky-note mr-1"></i>Additional Notes
                    </label>
                    <textarea
                        x-model="formData.additional_notes"
                        rows="2"
                        placeholder="Any specific requirements, constraints, or goals..."
                        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"
                    ></textarea>
                </div>

                <!-- Submit Button -->
                <div class="text-center">
                    <button
                        type="submit"
                        :disabled="loading"
                        class="px-8 py-3 bg-orange-500 text-white font-semibold rounded-lg hover:bg-orange-600 disabled:opacity-50 transition-colors inline-flex items-center"
                    >
                        <i class="fas fa-rocket mr-2"></i>
                        <span x-text="loading ? 'Analyzing...' : 'Get Launch Strategy'"></span>
                        <div x-show="loading" class="ml-2 animate-spin">
                            <i class="fas fa-spinner"></i>
                        </div>
                    </button>
                </div>
            </form>
        </div>

        <!-- Memory Summary -->
        <div x-show="memorySummary.total_memories > 0" class="max-w-4xl mx-auto bg-blue-50 border border-blue-200 rounded-lg p-6 mb-8">
            <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center">
                <i class="fas fa-brain mr-2 text-blue-500"></i>Your Product Context
            </h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div x-show="memorySummary.preferences.length > 0">
                    <h4 class="font-medium text-gray-700 mb-2">Preferences</h4>
                    <div class="space-y-1">
                        <template x-for="pref in memorySummary.preferences.slice(0, 3)" :key="pref">
                            <div class="text-sm text-gray-600 bg-white p-2 rounded border-l-2 border-blue-300">
                                <span x-text="pref"></span>
                            </div>
                        </template>
                    </div>
                </div>
                <div x-show="memorySummary.semantic_memories.length > 0">
                    <h4 class="font-medium text-gray-700 mb-2">Product Details</h4>
                    <div class="space-y-1">
                        <template x-for="memory in memorySummary.semantic_memories.slice(0, 3)" :key="memory">
                            <div class="text-sm text-gray-600 bg-white p-2 rounded border-l-2 border-green-300">
                                <span x-text="memory"></span>
                            </div>
                        </template>
                    </div>
                </div>
            </div>
        </div>

        <!-- Results -->
        <div x-show="results" class="max-w-4xl mx-auto space-y-6">
            <!-- Analysis Results -->
            <div x-show="results.analysis" class="bg-white rounded-lg shadow-lg p-6">
                <h3 class="text-xl font-semibold text-gray-800 mb-4 flex items-center">
                    <i class="fas fa-chart-line mr-2 text-orange-500"></i>Launch Analysis & Recommendations
                </h3>
                <div class="prose max-w-none">
                    <div x-html="formatResponse(results.analysis)" class="text-gray-700 whitespace-pre-wrap"></div>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="bg-white rounded-lg shadow-lg p-6">
                <h3 class="text-xl font-semibold text-gray-800 mb-4 flex items-center">
                    <i class="fas fa-tools mr-2 text-orange-500"></i>Detailed Tools
                </h3>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <button
                        @click="generateTimeline"
                        :disabled="loading"
                        class="p-4 border border-gray-200 rounded-lg hover:border-orange-300 hover:bg-orange-50 transition-colors text-left"
                    >
                        <div class="flex items-center mb-2">
                            <i class="fas fa-clock text-orange-500 mr-2"></i>
                            <h4 class="font-medium">Launch Timeline</h4>
                        </div>
                        <p class="text-sm text-gray-600">Get detailed timeline with tasks and deadlines</p>
                    </button>

                    <button
                        @click="generateMarketing"
                        :disabled="loading"
                        class="p-4 border border-gray-200 rounded-lg hover:border-orange-300 hover:bg-orange-50 transition-colors text-left"
                    >
                        <div class="flex items-center mb-2">
                            <i class="fas fa-bullhorn text-orange-500 mr-2"></i>
                            <h4 class="font-medium">Marketing Assets</h4>
                        </div>
                        <p class="text-sm text-gray-600">Generate taglines, tweets, and copy</p>
                    </button>

                    <button
                        @click="researchCompetition"
                        :disabled="loading"
                        class="p-4 border border-gray-200 rounded-lg hover:border-orange-300 hover:bg-orange-50 transition-colors text-left"
                    >
                        <div class="flex items-center mb-2">
                            <i class="fas fa-search text-orange-500 mr-2"></i>
                            <h4 class="font-medium">Competitive Research</h4>
                        </div>
                        <p class="text-sm text-gray-600">Analyze competitors and find hunters</p>
                    </button>
                </div>
            </div>

            <!-- Timeline Results -->
            <div x-show="results.timeline" class="bg-white rounded-lg shadow-lg p-6">
                <h3 class="text-xl font-semibold text-gray-800 mb-4 flex items-center">
                    <i class="fas fa-clock mr-2 text-orange-500"></i>Launch Timeline
                </h3>
                <div x-html="formatTimeline(results.timeline)" class="space-y-4"></div>
            </div>

            <!-- Marketing Results -->
            <div x-show="results.marketing" class="bg-white rounded-lg shadow-lg p-6">
                <h3 class="text-xl font-semibold text-gray-800 mb-4 flex items-center">
                    <i class="fas fa-bullhorn mr-2 text-orange-500"></i>Marketing Assets
                </h3>
                <div x-html="formatMarketing(results.marketing)" class="space-y-4"></div>
            </div>

            <!-- Research Results -->
            <div x-show="results.research" class="bg-white rounded-lg shadow-lg p-6">
                <h3 class="text-xl font-semibold text-gray-800 mb-4 flex items-center">
                    <i class="fas fa-search mr-2 text-orange-500"></i>Competitive Research
                </h3>
                <div x-html="formatResearch(results.research)" class="space-y-4"></div>
            </div>
        </div>

        <!-- Error Display -->
        <div x-show="error" class="max-w-4xl mx-auto bg-red-50 border border-red-200 rounded-lg p-4 mb-4">
            <div class="flex items-center">
                <i class="fas fa-exclamation-triangle text-red-500 mr-2"></i>
                <p class="text-red-700" x-text="error"></p>
            </div>
        </div>
    </div>

    <script src="/static/app.js"></script>
</body>
</html>